# μ• λ…Έν…μ΄μ…

### π‘©πΌβ€π’»λ©ν‘

> μλ°”μ μ• λ…Έν…μ΄μ…μ— λ€ν•΄ ν•™μµν•μ„Έμ”

## μ• λ…Έν…μ΄μ…

μ• λ…Έν…μ΄μ…μ€ Java 5λ¶€ν„° μƒλ΅­κ² μ¶”κ°€λ μ”μ†λ΅, μ½”λ“μ— **λ©”νƒ€ λ°μ΄ν„°**λ¥Ό ν‘ν„ν•λ” κ²ƒμ΄ μ£Ό λ©μ μ΄λ‹¤(λ‹¤μ–‘ν• λ©μ μΌλ΅ μ‚¬μ©). ν‘ν„μ€ μ•μ— **`@`λ¥Ό λ¶™ν€ μ‚¬μ©μ΄ κ°€λ¥**ν•λ‹¤. μ• λ…Έν…μ΄μ…μ€ ν΄λμ¤, λ©”μ„λ“, λ³€μ, λ§¤κ° λ³€μ λ° ν¨ν‚¤μ§€μ— λ¶™ν μ μλ‹¤. μ΄λ ‡κ² λ¶™ν€μ§„ μ• λ…Έν…μ΄μ…μ€ λ°”μ΄νΈ μ½”λ“μ— ν¬ν•¨λλ©°, Reflectionμ„ ν†µν•΄ μμ„Έν•κ² μ½μ„ μ μλ‹¤.

> **λ©”νƒ€ λ°μ΄ν„°**
>
> λ°μ΄ν„°μ— λ€ν• λ°μ΄ν„°λ΅ λ°μ΄ν„° κ·Έ μμ²΄κ°€ μ•„λ‹ ν•΄λ‹Ή λ°μ΄ν„°μ μ†μ„±μ„ μ„¤λ…ν•λ” λ°μ΄ν„° - [μ •λ³΄ν†µμ‹ κΈ°μ μ©μ–΄ν•΄μ„¤](http://www.ktword.co.kr/abbr_view.php?m_temp1=1195)

### Built-in μ• λ…Έν…μ΄μ…

μλ°”μ—μ„λ” λ‡κ°€μ§€ κΈ°λ³Έμ μΌλ΅ μ κ³µν•λ” μ• λ…Έν…μ΄μ…μ΄ μ΅΄μ¬ν•λ‹¤.

* @Override

  > ν•΄λ‹Ή λ©”μ„λ“λ” μ¤λ²„λΌμ΄λ“(μ¬μ •μ)κ°€ λμ—μμ„ μ•λ¦°λ‹¤. λ§μ•½ μƒμ„ ν΄λμ¤/μΈν„°νμ΄μ¤μ—μ„ ν•΄λ‹Ή λ©”μ„λ“λ¥Ό μ°Ύμ„ μ μ—†λ‹¤λ©΄ μ»΄νμΌ μ—λ¬

* @Deprecated

  > ν•΄λ‹Ή λ©”μ„λ“λ” λ” μ΄μƒ μ‚¬μ©λμ§€ μ•μμ„ ν‘μ‹ν•λ‹¤. μ‚¬μ©μ‹μ—λ” μ»΄νμΌ κ²½κ³ λ¥Ό λ°μƒμ‹ν‚¨λ‹¤.

* @SuppressWarning

  > μ»΄νμΌ κ²½κ³ λ¥Ό λ¬΄μ‹ν•λ„λ΅ ν•λ‹¤.

* @SafeVarargs

  > Java 7λ¶€ν„° μ§€μ› κ°€λ¥ν•λ©° κ°€λ³€ μΈμμ λ§¤κ°λ³€μλ¥Ό μ‚¬μ©ν•  λ• κ²½κ³ λ¥Ό λ¬΄μ‹ν•λ‹¤.

* @FuntionalInterface

  > Java 8λ¶€ν„° μ§€μ› κ°€λ¥ν•λ©° ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ§€μ •ν•λ‹¤. λ§μ•½, λ©”μ„λ“κ°€ μ΅΄μ¬ν•μ§€ μ•κ±°λ‚ ν•κ° μ΄μƒμ λ©”μ„λ“(default λ©”μ„λ“ μ μ™Έ)κ°€ μ΅΄μ¬ν•λ‹¤λ©΄ μ»΄νμΌ μ¤λ¥λ¥Ό λ°μƒ μ‹ν‚¨λ‹¤.

### Meta μ• λ…Έν…μ΄μ…

μλ°”μ—μ„ κΈ°λ³Έμ μΌλ΅ μ κ³µν•λ” μ• λ…Έν…μ΄μ…μ„ λ³΄λ©΄ κ·Έ μ•μ— λ λ‹¤λ¥Έ μ• λ…Έν…μ΄μ…μ΄ μ΅΄μ¬ν•λ” κ²ƒμ„ λ³Ό μ μλ‹¤.

```java
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.SOURCE)
public @interface Override {
}
```

`@Override` μ•μ— `@Target`, `@Retention`μ΄λΌλ” μ• λ…Έν…μ΄μ…μ„ λ³Ό μ μλ‹¤. λ°”λ΅ **λ©”νƒ€ μ• λ…Έν…μ΄μ…**μΌλ΅ μ΄λ“¤μ„ ν†µν•΄ μ»¤μ¤ν…€ μ• λ…Έν…μ΄μ…μ„ λ§λ“¤ μ μλ‹¤. μ–΄λ– ν• μΆ…λ¥κ°€ μλ”μ§€ μ‚΄ν΄λ³΄μ.

* @Retention

  > ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ΄ μ–΄λ–»κ² μ €μ¥λ μ§€μ— λ€ν•΄ μ§€μ •ν•λ‹¤.
  >
  > * SOURCE β†’ μ»΄νμΌμ‹μ— μ• λ…Έν…μ΄μ… μ •λ³΄κ°€ μ‚¬λΌμ§(λ°”μ΄νΈμ½”λ“ μ΅΄μ¬ X)
  > * CLASS β†’ ν΄λμ¤ νμΌμ— μ΅΄μ¬ν•κ³  μ»΄νμΌλ¬μ— μν•΄ μ‚¬μ© κ°€λ¥, λ°νƒ€μ„ μ‹μ— μ‚¬λΌμ§
  > * RUNTIME β†’ μ• λ…Έν…μ΄μ…μ μ •λ³΄λ¥Ό κ°€μƒ λ¨Έμ‹ μ—μ„ μ°Έμ΅°κ°€ κ°€λ¥, Reflectionμ— μν•΄ μ‚¬μ©

* @Documented

  > λ¬Έμ„ μ•μ— ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ μ΅΄μ¬λ¥Ό ν‘κΈ°ν•λ„λ΅ μ§€μ •ν•λ‹¤.

* @Target

  > ν•΄λ‹Ή μ• λ…Έν…μ΄μ…μ΄ μ μ©λλ” μ”μ†λ¥Ό μ ν•ν•κΈ° μ„ν•΄ ν‘μ‹ν•λ‹¤.
  >
  > * μΆ…λ¥
  >
  >   | νƒ€μ…            | λ€μƒ                       |
  >   | --------------- | -------------------------- |
  >   | PACKAGE         | ν¨ν‚¤μ§€                     |
  >   | TYPE            | ν΄λμ¤, μΈν„°νμ΄μ¤, μ—΄κ±°ν• |
  >   | ANNOTATION_TYPE | μ• λ…Έν…μ΄μ… νƒ€μ…            |
  >   | CONSTRUCTOR     | μƒμ„±μ                     |
  >   | FIELD           | λ©¤λ²„ λ³€μ                  |
  >   | LOCAL_VARIABLE  | μ§€μ—­ λ³€μ                  |
  >   | MEHTOD          | λ©”μ„λ“                     |
  >   | PARAMETER       | λ§¤κ° λ³€μ                  |
  >   | TYPE_PARAMETER  | λ§¤κ° λ³€μ νƒ€μ…             |
  >   | TYPE_USE        | νƒ€μ… μ‚¬μ©                  |

* @Inherited

  > μ• λ…Έν…μ΄μ…μ μƒμ†μ„ κ°€λ¥ν•κ² ν•λ‹¤.

* @Repeatable

  > Java 8λ¶€ν„° μ§€μ› κ°€λ¥ν•λ©° μ—°μ†μ μΌλ΅ κ°™μ€ μ• λ…Έν…μ΄μ…μ„ μ„ μ–Έν•  μ μλ„λ΅ ν•λ‹¤.

### μ •μν•κΈ°

μ• λ…Έν…μ΄μ…μ„ μ •μν•λ” λ°©λ²•μ€ κµ‰μ¥ν λ‹¨μν•λ‹¤.

```java
public @interface μ• λ…Έν…μ΄μ…μ΄λ¦„ {}
```

μ„μ™€ κ°™μ΄ `@interface` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ •μν•  μ μλ‹¤. μ• λ…Έν…μ΄μ…μ κ²½μ° μ”μ†λ¥Ό κ°€μ§ μ μμΌλ©°, μ΄λ“¤μ€ μ—†μ–΄λ„ λκ³  ν•λ‚ μ΄μƒ κ°€μ§ μ μλ‹¤.

```java
@MyAnnotation(name="jongnan")

public @interface MyAnnotation {
  String name();
}
```

μ”μ†λ“¤μ€ λΈμ²΄κ°€ μ—†λ” λ©”μ„λ“ ν•νƒλ΅ κΈ°λ³Έκ°’μ„ μ§€μ •ν•  μ μλ‹¤.(default ν‚¤μ›λ“ μ‚¬μ©) λ§μ•½ κΈ°λ³Έκ°’μ„ μ§€μ •ν•μ§€ μ•μ€ μ”μ†κ°€ μλ‹¤λ©΄ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤.

<br>

## μ• λ…Έν…μ΄μ… ν”„λ΅μ„Έμ„

μ• λ…Έν…μ΄μ… ν”„λ΅μ„Έμ‹±μ€ **μ»΄νμΌ μ‹κ°„μ— μ• λ…Έν…μ΄μ…λ“¤μ„ μ¤μΊλ‹ν•κ³  ν”„λ΅μ„Έμ‹±ν•λ” javacμ— μ†ν• λΉλ“ν΄**μ΄λ‹¤. μ΄λ¥Ό ν†µν•΄ νΉμ • μ• λ…Έν…μ΄μ…λ“¤μ μ• λ…Έν…μ΄μ… ν”„λ΅μ„Έμ„λ¥Ό λ§λ“¤μ–΄ λ“±λ΅μ΄ κ°€λ¥ν•λ‹¤. μ΄λ¬ν• ν”„λ΅μ„Έμ„λ” μλ°” μ½”λ“ νΉμ€ λ°”μ΄νΈ μ½”λ“λ¥Ό λ°›μ•„ νμΌ(λ³΄ν†µ .java νμΌ)μ„ μƒμ„± κ°€λ¥ν•λ‹¤. μ¦‰, **μƒλ΅μ΄ μ½”λ“μ μ‚½μ…μ΄ κ°€λ¥**ν•λ‹¤λ” μ–κΈ°λ‹¤(μ΄λ―Έ λ§λ“¤μ–΄μ§„ μλ°” νμΌμ€ λ¶κ°€λ¥). 

### ν”„λ΅μ„Έμ„ API

λ¨λ“  ν”„λ΅μ„Έμ„λ“¤μ€ `AbstractProcessor` λ¥Ό μƒμ† λ°›μ•„μ•Ό ν•λ‹¤. μ΄ μ•μ— μ¤λ²„λΌμ΄λ“ ν•¨μλ“¤μ΄ μ΅΄μ¬ν•λ”λ° μ κΉ μ‚΄ν΄λ³΄κ³  κ°€μ.

* init(ProcessingEnvironment env)

  > ν”„λ΅μ„Έμ„μ μ²λ¦¬ ν™κ²½μ„ μ΄κΈ°ν™” ν•λ‹¤.

* process(Set<? extends TypeElement> annotations, RoundEnvironment env)

  > κ° ν”„λ΅μ„Έμ„μ `main()` λ©”μ„λ“μ μ—­ν• μ„ ν•λ‹¤. μ΄κ³³μ— scanning, evaluating, annotation processing, μλ°” νμΌ μƒμ„±μ„ μ„ν• μ½”λ“λ¥Ό μ‘μ„±ν•λ‹¤. `RounEvironment`λ¥Ό ν†µν•΄ νΉμ • μ• λ…Έν…μ΄μ…μ„ μ°Ύμ„ μ μλ‹¤.

* getSupportedAnnotationTypes()

  > ν”„λ΅μ„Έμ„κ°€ μ²λ¦¬ν•  μ• λ…Έν…μ΄μ…λ“¤μ„ λ…μ‹ν•λ‹¤.

* getSupportedSourceVersion()

  > νΉμ • μλ°” λ²„μ „μ„ λ…μ‹ν•λ”λ° μ‚¬μ©ν•λ‹¤. λ³΄ν†µμ€ `SourceVersion.latestSupported()`λ¥Ό λ¦¬ν„΄ν•λ‹¤.

### λ“±λ΅

μ΄λ ‡κ² λ§λ“  ν”„λ΅μ„Έμ„λ¥Ό μ‹¤ν–‰λ§ ν•λ‹¤κ³  ν•΄μ„ μ»΄νμΌλ¬μ— μλ™μΌλ΅ λ“±λ΅λλ” κ²ƒμ€ μ•„λ‹λ‹¤. λ¨Όμ € META-INF/services μ•μ— `javax.annotation.processing.Processor` λΌκ³  λ¶λ¦¬μ°λ” νμΌμ„ μƒμ„±ν•κ³  μ΄λ¥Ό .jar νμΌλ΅ ν¨ν‚¤μ§•μ„ ν•΄μ•Όν•λ‹¤. μƒλ΅ μƒμ„±ν• νμΌμ λ‚΄μ©μ€ μ¤„λ°”κΏμ„ κΈ°μ¤€μΌλ΅ μ‚¬μ©ν•λ” ν”„λ΅μ„Έμ„λ“¤μ Full Qualified Class Nameμ„ μ λ”λ‹¤.

<br>

---

### Reference

* [Java Annotationκ³Ό Reflectionμ΄λ€?](https://qssdev.tistory.com/27)
* [μλ°” μ–΄λ…Έν…μ΄μ…(Java Annotations)](https://jdm.kr/blog/216)
* [Java Annotationμ΄λ€?](https://nesoy.github.io/articles/2018-04/Java-Annotation)
* [Java Annotations - JENKOV.COM](http://tutorials.jenkov.com/java/annotations.html#create-your-own-java-annotations-video-tutorial)
* [Annotation Processing 101 (λ²μ—­)](https://medium.com/@jason_kim/annotation-processing-101-%EB%B2%88%EC%97%AD-be333c7b913)

